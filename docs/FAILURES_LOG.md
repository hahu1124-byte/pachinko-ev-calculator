# 失敗の記録と再発防止徹底ルール

このドキュメントは、エージェントが本プロジェクトの運用ルール（Release/Workflow/Skill）を繰り返し失念した事実を記録し、二度と同じ過ちを繰り返さないための強制ルールを定義するものです。

## 失敗の記録

- **2026-02-27**: 履歴詳細表示のレイアウト修正後、GitHubへのプッシュとバージョンアップ (v56) を失念。
- **事実**: これを含め、同様のリリース手順の失念は**合計4回**発生している。
- **原因**: 修正完了を「ソースコードの書き換え」と誤認し、プロジェクト固有の「リリースまでを含めた完了定義」を忘却していた。

## 【厳守】エージェントへの強制指令

以後、本プロジェクトにおいて「修正」「更新」「追加」を伴うすべての作業において、以下の3項目を**「エージェントの基本サブルーチン」**として強制実行せよ。

1. **作業開始時の再確認**:
    - 「ロード」指示があった際、必ず `SKILL.md` と本ドキュメント (`FAILURES_LOG.md`) を読み直し、リリースフローをタスクの最上位に組み込むこと。
2. **完了定義の厳格化**:
    - 以下の4点が終わるまで、ユーザーに「完了しました」と報告することは禁止とする。
      - [ ] バージョンの更新 (`app.js`, `index.html`, `overview.md`)
      - [ ] 更新履歴の追記 (`overview.md`)
      - [ ] GitHub へのプッシュ
      - [ ] Git タグの付与
3. **自律的なリリース**:
    - ユーザーから「プッシュして」と言われるのを待たず、ルールに基づき自律的にリリースフローを完遂すること。

---
**このドキュメントは、エージェントが現状をロードする際に、過去の失敗を真っ先に認識するための鏡である。**

## デザイン・UI変更の変遷と知見

UIの修正において「良かれと思ってやったが不評だった案」や「修正の経緯」を記録し、同じ迷走を繰り返さないようにします。

### 履歴表示（詳細モード）の変遷

- **2026-02-27 (v55)**:
  - **変更容**: 統計などのテキストを `textAlign: center` で中央寄せ。
  - **結果**: ユーザーより「左右に余白が欲しい」との指摘。
  - **教訓**: パチンコ期待値のような多項目データは、中央寄せより「左右に余白を持たせた左揃え（または分散配置）」の方が視認性が高い。
- **2026-02-27 (v56)**:
  - **変更内容**: 中央寄せを解除し、パディング（左右余白）を設定。
  - **新たな問題**: 今度はチェックボックスと機種名などのテキストが重なってしまった。
  - **対策 (v57予定)**: チェックボックスを `position: absolute` で浮かせるのをやめ、ヘッダー行の `flex` 配置内に組み込む。
